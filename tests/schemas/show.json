{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "title": "Schema defining a show.",
  "description": "Also known as a production, a show is a collection of performances that are presented on a planned series of dates. \"If it's got a program, it's a show.\"",
  "type": "object",
  "required": ["title", "dates", "producers", "performances"],
  "additionalProperties": false,

  "properties": {
    "title": {
      "type": "string",
      "minLength": 1,
      "maxLength": 300
    },

    "dates": {
      "type": "array",
      "minItems": 1,
      "items" : {
        "type": "string",
        "pattern": "(^ongoing$|\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\.\\d{3}Z"
      }
    },

    "hosts": {
      "type": "array",
      "minItems": 1,
      "items": {
        "title": "Person schema",
        "description": "The bread and butter of Ghostlight, a person is also one of our trickiest.",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "name": {
            "type": "string",
            "minLength": 1
          },
          "id" : {
            "type": "string"
          }
        }
      }
    },

    "producers": {
      "type": "array",
      "minItems": 1,
      "items": {

      }
    },

    "performances": {
      "type": "array",
      "items" : {
        "title": "Schema defining a performance.",
        "description": "A rare entity in that it isn't represented by a resource and only exists in a show, it's the output of a creative team, like the performance of a 10-minute play, a full-length, or showing a video. \"If it's got a cast, it's a performance.\"",
        "type": "object",
        "additionalProperties": false,

        "properties": {
          "work": {
            "title": "Schema defining a work",
            "description": "Any piece that is performed is known as a work. \"If it has a script, it's a work.\"",
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "title": {
                "type": "string",
                "minLength": 1
              },
              "authors":{
                "type": "array",
                "minItems": 1,
                "items": {

                }
              },
              "description": {
                "type": "string",
                "minLength": 1
              },
              "minutes_long": {
                "type": "integer",
                "minimum": 1,
                "exclusiveMinimum": false
              },
              "collaborating_org":{
                "type": "object"
              }
            }
          },

          "onstage": {
            "type": "array",
            "minItems": 1
          },
          "offstage": {
            "type": "array",
            "minItems": 1
          },
          "directors": {
            "type": "array",
            "minItems": 1
          },
          "directors_note": {
            "type": "string",
            "minLength": 1
          },
          "description": {
            "type": "string",
            "minLength": 1
          }
        },
        "required": ["work"]
      },
      "minItems": 1
    },

    "special_thanks": {
      "type": "string",
      "minLength": 1,
      "maxLength": 1500
    },

    "press": {
      "type": "array",
      "minLength": 1,
      "items": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "link": {
            "type": "string"
          },
          "description": {
            "type": "string"
          }
        }
      }
    },

    "social": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "website": { "type": "string" },
        "email": { "type": "string" },
        "blog": { "type": "string" },
        "newsletter": { "type": "string" },
        "facebook": { "type": "string" },
        "twitter": { "type": "string" },
        "instagram": { "type": "string" },
        "vimeo": { "type": "string" },
        "youtube": { "type": "string" },
        "tumblr": { "type": "string" },
        "pinterest": { "type": "string" },
        "gplus": { "type": "string" },
        "patreon": { "type": "string" },
        "newplayx": { "type": "string" }
      }
    }
  }
}
